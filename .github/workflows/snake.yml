name: Generate Snake Animation

on:
  # 주기적으로 실행: 하루에 한 번 실행
  schedule:
    - cron: "0 0 * * *" 

  # 수동으로 실행할 수 있도록 설정
  workflow_dispatch:

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      # 깃허브 유저의 커밋 그래프에서 뱀 게임 애니메이션을 생성
      - name: Generate snake animation
        uses: Platane/snk@v2
        with:
          github_user_name: KimuJinsu
          color_snake: "#58A6FF" # 뱀의 색상 설정
          color_dots: "#FFFFFF"  # 커밋 점의 색상 설정 (배경색과 잘 어울리게 설정)
          color_background: "#2D2D2D"  # 배경색을 어둡게 설정
          outputs: |
            dist/github-contribution-grid-snake.svg

      # 생성된 SVG 파일을 GitHub의 output 브랜치에 푸시
      - name: Push the SVG to the output branch
        uses: crazy-max/ghaction-github-pages@v3.1.0
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
